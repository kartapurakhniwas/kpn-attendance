<div id="header">
    <div class="left">
        <h2>Import Export Container</h2>
    </div>
    <div class="right">
        <nav-items class="right"></nav-items>
    </div>
</div>

<div class="inner-content-wrap">
    <img *ngIf="loaderFlag" style="    position: absolute;
    z-index: 99999;
    top: 38%;
    left: 0;
    right: 0;
    display: block;
    width: 130px;
    margin: auto;" src="../../../../assets/images/loader.gif" alt="">
    <div class="filters">
        <div class="left">
            <input type="text" class="form-control-filter main-search" placeholder="Search Container No, Order, Ref No."
                (change)="onKeywordchange($event)">

                 @for(item of searchButtonslst; track item)
                {
                  
                  <button  class="filter-btn {{item.bgStyle}}" (click)="SetDateType(item.id)"   title="{{item.title}}"   >{{item.name}}  &nbsp; <span class="count-bx">{{item.count}}</span></button>
                }

        <!--   <button class="filter-btn ml-20" (click)="SetDateType(4)"   title="This will filter the Import records by pickup last free date for Today Onwards Sorted By PU LFD">LFD &nbsp; <span class="count-bx">23</span></button>
            <button class="filter-btn" (click)="SetDateType(7)" title="This will filter the Import records by Pickup empty return LFD date for Today Onwards Sorted By Empty Return LFD/DP LFD">EM-Re &nbsp; <span class="count-bx">5</span></button>
            <button class="filter-btn" (click)="SetDateType(5)" title="This will filter the all the Import jobs which have missed dates (PU Resev,DP Reserv,Empty return LFD/DP LFD) Sorted by PU Reservation Date (Desc)">IM UP-JOB &nbsp; <span class="count-bx">14</span></button>
            <button class="filter-btn" (click)="SetDateType(6)" title="This will filter the Export records by Cut-off date for Today Onwards Sorted By ERD/DP Date">ERD/ Cut-Off &nbsp; <span class="count-bx">54</span></button>
            <button class="filter-btn" (click)="SetDateType(8)" title="This will filter the all Export jobs which have missed dates (PU Resev,DP Reserv,DP ERD/DP date,Cut off date/DP LFD) Sorted by Export ERD">EX UP-JOB &nbsp; <span class="count-bx">16</span></button>
            <button class="filter-btn" (click)="SetDateType(9)" title="This will filter the all records by container left at Yard Sorted By PU Reservation Date">CONT-Ya &nbsp; <span class="count-bx">7</span></button>
            <button class="filter-btn" (click)="SetDateType(10)" title="This will filter the all records by container left at loading / unloading location Sorted By PU Reservation Date">CONT-Cu &nbsp; <span class="count-bx">21</span></button>
           -->
            <i class="ki-duotone ki-arrows-circle action_icon_btn" (click)="resetSearch()">
                <span class="path1"></span>
                <span class="path2"></span>
            </i>
            
          
                <select class="form-control-filter ml-20" (change)="changefilter($event)" [ngModel]="filterModel">
                    <option value="">Select Filter</option>
                    @for(item of filterlst; track item) {
                    <option value="{{item.filterId}}">{{item.saveFilterTitle}}</option>}
                 
                </select>
          
           

            <select class="form-control-filter blue" (change)="ontypechange($event)" [ngModel]="Tradetype">
                <option selected  value="0">Import & Export</option>
                <option value="1">Import Only</option>
                <option  value="2">Export Only</option>
               
            </select>
        </div>
        <div class="right">
            <!-- <mat-icon class="action_icon_btn" [matMenuTriggerFor]="menu">more_vert</mat-icon> -->
            <i class="ki-duotone ki-dots-square-vertical action_icon_btn" [matMenuTriggerFor]="menu">
                <span class="path1"></span>
                <span class="path2"></span>
                <span class="path3"></span>
                <span class="path4"></span>
            </i>
            <mat-menu #menu="matMenu">
                <button mat-menu-item>View Status</button>
                <button mat-menu-item>View Legends</button>
            </mat-menu>
            <button mat-button [matMenuTriggerFor]="menu1" class="me-0">Filter Columns <i class="ki-outline ki-down"></i></button>
            <mat-menu #menu1="matMenu" xPosition="before" class="p-2 pe-3">
                <div class="d-flex">
                  <button mat-raised-button mat-accent color="primary" (click)="saveGridSettings()">Save Grid Settings</button>
                  <button mat-raised-button mat-accent  (click)="resetGridSettings()">Reset to default</button>
                </div>
                <div class="wrap-list">
                  @for (item of this.gl.updatedColDef; track $index) {
                    <mat-checkbox  class="d-block" (click)="$event.stopPropagation()"  [checked]="!item.hide" (change)="gl.hiddeShowCol($event, $index, this.gridApi)">{{item.headerName}}</mat-checkbox>  
                  }  
                </div>
            </mat-menu>
        </div>
    </div>
    <!-- <div class="custom-table-toggle">
        <button (click)="sidebarFlag = true" mat-raised-button color="primary" style="margin: 10px; visibility: hidden;">
           Column Toggle
        </button>
        <div class="sidebar-right" [class.active]="sidebarFlag">
            <ul>
                <li (click)="sidebarFlag = false" style="cursor: pointer; display: flex; align-items: center">
                    <mat-icon  style="margin-right: 6px">close</mat-icon> Close
                </li>
                <li *ngFor="let x of columnDefs">
                    <mat-checkbox (change)="btnClick(x.field, $event)" [checked]="true">{{x.headerName}}</mat-checkbox>
                   
                </li>
            </ul>
        </div>
    </div> -->

    
    <div class="row">
      <div [class.col-3]="gl.setRowData && detailFlag"
      [class.pe-0]="gl.setRowData && detailFlag"
      [class.col-12]="!gl.setRowData && !detailFlag">
      <div class="table-left-wrap">
    <div *ngIf="getpaged">
        <ag-grid-angular [rowData]="getpaged" #agGrid id="myGrid" class="ag-theme-balham table-size ag-theme-quartz"
            [columnDefs]="columnDefs" [pagination]="true" [paginationPageSize]="100" [suppressRowClickSelection]="true"
            [rowSelection]="rowSelection" (selectionChanged)="onSelectionChanged()" (gridReady)="onGridReady($event)"
            [defaultColDef]="defaultColDef" (filterChanged)="onFilterChanged()"   (cellValueChanged)="onCellValueChanged($event)"
            (displayedColumnsChanged)="this.gl.onDisplayedColumnsChanged($event, this.initialColumnDefs, this.columnDefs, 'TrackGridColOrder')" 
            (columnResized)="this.gl.onDisplayedColumnsChanged($event, this.initialColumnDefs, this.columnDefs, 'TrackGridColOrder')"
           ></ag-grid-angular>
  
          </div>
          <button 
          mat-mini-fab
          color="primary"
          class="move-btn"
          *ngIf="gl.setRowData"
          (click)="detailFlag = !detailFlag"
        >
          <i class="ki-duotone ki-right" *ngIf="detailFlag"></i>
          <i class="ki-duotone ki-left" *ngIf="!detailFlag"></i>
        </button>
      </div>
        </div>
          <div class="col-9 ps-0" *ngIf="gl.setRowData && detailFlag">
            <div class="white-card">
              <p class="p-title">JOB #{{this.gl.setRowData.containerNo}}</p>
              <div class="order-detail-tabs">
                <mat-tab-group>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      <!-- <mat-icon>dashboard</mat-icon> -->
                      <i class="ki-duotone ki-geolocation">
                        <span class="path1"></span>
                        <span class="path2"></span>
                        </i>
                      <p>Location</p>
                    </ng-template>
                    @if(gl.setRowData && detailFlag) {
                      <location-tab-component [selectedContainerId]="this.gl.setRowData.containerId" [selectedOrderId]="orderId"></location-tab-component>
                    }
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      <!-- <mat-icon>dashboard</mat-icon> -->
                      <i class="ki-duotone ki-screen">
                        <span class="path1"></span>
                        <span class="path2"></span>
                        <span class="path3"></span>
                        <span class="path4"></span>
                        </i>
                      <p>History</p>
                    </ng-template>
                    @if(gl.setRowData && detailFlag) {
                      <history-tab-component [selectedContainerId]="this.gl.setRowData.containerId"></history-tab-component>
                    }
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      <!-- <mat-icon>dashboard</mat-icon> -->
                      <i class="ki-duotone ki-user-square">
                        <span class="path1"></span>
                        <span class="path2"></span>
                        <span class="path3"></span>
                        </i>
                      <p>Assign Job</p>
                    </ng-template>
                    <assign-tab-form-component [selectedContainerId]="this.gl.setRowData.containerId"></assign-tab-form-component>
                    <mat-tab-group class="tab-height">
                      <mat-tab label="Assign job Planner">
                    <!--   <planner-component  [selectedContainerId]="this.gl.setRowData.containerId" [containerLoadId]="this.gl.setRowData.containerLoad.containerLoadId"></planner-component>-->
                      </mat-tab>
                      <mat-tab label="History"  class="tab-height">
                       <history-tab-component [selectedContainerId]="this.gl.setRowData.containerId"></history-tab-component>
                      </mat-tab>
                    </mat-tab-group>
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      <!-- <mat-icon>dashboard</mat-icon> -->
                      <i class="ki-duotone ki-sms">
                      <span class="path1"></span>
                      <span class="path2"></span>
                      </i>
                      <p>Message</p>
                    </ng-template>
                    <div class="chat-msg">
                      <ul>
                        <li>
                          Lorem ipsum dolor sit amet consectetur adipisicing elit.
                          Ipsa, sapiente cum! Repellendus fugit facere iusto culpa
                          possimus odit eligendi commodi nostrum, blanditiis nulla
                          facilis totam a tenetur soluta placeat suscipit.
                          <span class="date">Sunday, Jan 24th, 2024 at 4.30 AM</span>
                        </li>
                        <li>
                          Lorem ipsum dolor sit amet consectetur adipisicing elit.
                          <span class="date">Sunday, Jan 24th, 2024 at 4.30 AM</span>
                        </li>
                        <li>
                          Lorem ipsum dolor sit amet consectetur adipisicing elit.
                          Ipsa, sapiente cum! Repellendus fugit facere iusto culpa
                          possimus odit eligendi commodi nostrum, blanditiis nulla
                          facilis totam a tenetur soluta placeat suscipit.
                          <span class="date">Sunday, Jan 24th, 2024 at 4.30 AM</span>
                        </li>
                        <li>
                          Lorem ipsum dolor sit amet consectetur adipisicing elit.
                          <span class="date">Sunday, Jan 24th, 2024 at 4.30 AM</span>
                        </li>
                        <li>
                          Lorem ipsum dolor sit amet consectetur adipisicing elit.
                          Ipsa, sapiente cum! Repellendus fugit facere iusto
                          <span class="date">Sunday, Jan 24th, 2024 at 4.30 AM</span>
                        </li>
                        <li>
                          Lorem ipsum dolor sit amet consectetur adipisicing elit.
                          Ipsa, sapiente cum! Repellendus fugit facere iusto culpa
                          possimus odit eligendi commodi nostrum, blanditiis nulla
                          facilis totam a tenetur soluta placeat suscipit.
                          <span class="date">Sunday, Jan 24th, 2024 at 4.30 AM</span>
                        </li>
                        <li>
                          Lorem ipsum dolor sit amet consectetur adipisicing elit.
                          <span class="date">Sunday, Jan 24th, 2024 at 4.30 AM</span>
                        </li>
                        <li>
                          Lorem ipsum dolor sit amet consectetur adipisicing elit.
                          Ipsa, sapiente cum! Repellendus fugit facere iusto culpa
                          possimus odit eligendi commodi nostrum, 
                          <span class="date">Sunday, Jan 24th, 2024 at 4.30 AM</span>
                        </li>
                      </ul>
                      <div class="chat-footer">
                        <textarea></textarea>
                        <button class="send-btn">
                          <!-- <mat-icon>send</mat-icon>  -->
                          <i class="ki-duotone ki-send mat-icon">
                            <span class="path1"></span>
                            <span class="path2"></span>
                            </i>
                          SEND
                        </button>
                      </div>
                    </div>
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      <!-- <mat-icon>dashboard</mat-icon> -->
                      <i class="ki-duotone ki-file-up">
                        <span class="path1"></span>
                        <span class="path2"></span>
                        </i>
                      <p>Upload Doc</p>
                    </ng-template>
                   <uplaod-doc-tab-component [selectedContainerId]="this.gl.setRowData.containerId" [selectedOrderId]="this.orderId"></uplaod-doc-tab-component>
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      <!-- <mat-icon>dashboard</mat-icon> -->
                      <i class="ki-duotone ki-dollar">
                        <span class="path1"></span>
                        <span class="path2"></span>
                        <span class="path3"></span>
                        </i>
                      <p>Job Expenses</p>
                    </ng-template>
                    <div class="d-flex align-items-center mt-3">
                      <mat-checkbox class="me-3">Exclude PMR Value</mat-checkbox>
                      <div class="input-wrap me-3">
                        <label class="form-label">Extra Charges</label>
                        <mat-form-field appearance="outline">
                          <input matInput placeholder="Extra Charges" type="number" />
                        </mat-form-field>
                      </div>
                      <button mat-flat-button class="primary round_btn">Save</button>
                    </div>
                  </mat-tab>
                  <mat-tab>
                    <ng-template mat-tab-label>
                      <!-- <mat-icon>dashboard</mat-icon> -->
                      <i class="ki-duotone ki-information">
                        <span class="path1"></span>
                        <span class="path2"></span>
                        <span class="path3"></span>
                        </i>
                      <p>Extra Charges</p>
                    </ng-template>
                    <div class="responsive-table">
                      <table class="table no-bg border-collpse">
                        <thead>
                          <tr>
                            <th>Item Name</th>
                            <th>Specific To</th>
                            <th>Description</th>
                            <th>Qty</th>
                            <th>Rate</th>
                            <th>Total</th>
                            <th>Docs</th>
                            <th>Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>
                              <div class="input-wrap">
                                <mat-form-field appearance="outline">
                                  <mat-select>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <div class="input-wrap">
                                <mat-form-field appearance="outline">
                                  <mat-select>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <div class="input-wrap">
                                <mat-form-field appearance="outline">
                                  <input matInput placeholder="Enter" />
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <div class="input-wrap" style="max-width: 90px">
                                <mat-form-field appearance="outline">
                                  <input matInput type="number" />
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <div class="input-wrap" style="max-width: 90px">
                                <mat-form-field appearance="outline">
                                  <input matInput />
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <div class="input-wrap" style="max-width: 90px">
                                <mat-form-field appearance="outline">
                                  <input matInput />
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <i class="ki-duotone ki-file-up mat-icon action_icon_btn">
                              <span class="path1"></span>
                              <span class="path2"></span>
                              </i>
                              <!-- <i class="ki-duotone ki-black-up mat-icon action_icon_btn">
        </i> -->
                              <!-- <mat-icon class="action_icon_btn">upload</mat-icon> -->
                            </td>
                            <td>
                              <!-- <mat-icon class="action_icon_btn red">delete</mat-icon> -->
                              <i class="ki-duotone ki-trash action_icon_btn red">
                                <span class="path1"></span>
                                <span class="path2"></span>
                                <span class="path3"></span>
                                <span class="path4"></span>
                                <span class="path5"></span>
                              </i>
                            </td>
                          </tr>
                          <tr>
                            <td>
                              <div class="input-wrap">
                                <mat-form-field appearance="outline">
                                  <mat-select>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <div class="input-wrap">
                                <mat-form-field appearance="outline">
                                  <mat-select>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                    <mat-option value="option1">Lorem</mat-option>
                                  </mat-select>
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <div class="input-wrap">
                                <mat-form-field appearance="outline">
                                  <input matInput placeholder="Enter" />
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <div class="input-wrap" style="max-width: 90px">
                                <mat-form-field appearance="outline">
                                  <input matInput type="number" />
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <div class="input-wrap" style="max-width: 90px">
                                <mat-form-field appearance="outline">
                                  <input matInput />
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <div class="input-wrap" style="max-width: 90px">
                                <mat-form-field appearance="outline">
                                  <input matInput />
                                </mat-form-field>
                              </div>
                            </td>
                            <td>
                              <!-- <mat-icon class="action_icon_btn">upload</mat-icon> -->
                              <i class="ki-duotone ki-file-up mat-icon action_icon_btn">
                                <span class="path1"></span>
                                <span class="path2"></span>
                                </i>
                            </td>
                            <td>
                              <!-- <mat-icon class="action_icon_btn red">delete</mat-icon> -->
                              <i class="ki-duotone ki-trash action_icon_btn red">
                                <span class="path1"></span>
                                <span class="path2"></span>
                                <span class="path3"></span>
                                <span class="path4"></span>
                                <span class="path5"></span>
                              </i>
                            </td>
                          </tr>
                          <tr>
                            <td>
                              <!-- <mat-icon class="action_icon_btn">add</mat-icon> -->
                              <i class="ki-duotone ki-plus mat-icon action_icon_btn">
                              </i>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div style="text-align: right">
                      <button mat-flat-button class="primary round_btn">Save</button>
                    </div>
                  </mat-tab>
                </mat-tab-group>
              </div>
            </div>
          </div>
      
        </div>

    <div class="btn-flow">
        <button mat-fab class="danger" (click)="ExportExcel()">
            <!-- <mat-icon>description</mat-icon> -->
            <i class="ki-duotone ki-document">
                <span class="path1"></span>
                <span class="path2"></span>
            </i>
        </button>
        <button mat-fab class="primary" (click)="OpenUploadexcelFilter()">
            <!-- <mat-icon>upload</mat-icon> -->
            <i class="ki-duotone ki-up"></i>
        </button>
        <button mat-fab class="secondary" (click)="searchFlag = true">
            <i class="ki-duotone ki-magnifier "> <span class="path1"></span> <span class="path2"></span></i>
        </button>
    </div>
   

   

</div>


<!-- <div *ngIf="addRowFlag" (click)="addRowFlag = false" class="blackout"></div>
<div [@openCloseAdd]="addRowFlag ? true : false" class="slide" style="max-width: 850px">
    <div class="slide-header">
        <h3>Add New Row</h3>
        <button mat-icon-button (click)="addRowFlag = false">
            <mat-icon>close</mat-icon>
        </button>
    </div>
    <div class="slide-body">
        <add-import-orders></add-import-orders>
    </div>
</div> -->

<div *ngIf="searchFlag" (click)="searchFlag = false" class="blackout"></div>
<div [@openCloseSearch]="searchFlag ? true : false" class="slide" style="max-width: 500px" [formGroup]="searchForm">
    <div class="slide-header">
        <h3>Search</h3>
        <button mat-icon-button (click)="searchFlag = false">
            <!-- <mat-icon>close</mat-icon> -->
            <i class="ki-duotone ki-cross">
                <span class="path1"></span>
                <span class="path2"></span>
            </i>
        </button>
    </div>
    <div class="slide-body">

        <h3 class="heading">Customer Line Details</h3>
        <div class="row custom-row">
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Order Date</label>
                    <mat-form-field appearance="outline" >

                        <mat-date-range-input [rangePicker]="orderDatepicker" [disabled]="isDateDisable">
                            <input matStartDate placeholder="Start date" formControlName="fromDate">
                            <input matEndDate placeholder="End date" formControlName="toDate">
                        </mat-date-range-input>
                        <mat-hint>MM/DD/YYYY – MM/DD/YYYY</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="orderDatepicker"></mat-datepicker-toggle>
                        <mat-date-range-picker #orderDatepicker></mat-date-range-picker>
                    </mat-form-field>
                </div>
            </div>
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Select Date Type</label>
                    <mat-form-field appearance="outline" >
                        <mat-select multiple (selectionChange)="onDataTypechange($event)" formControlName="selectSearchTypeIds">

                            <mat-option value="1">Loading/Unloading Date</mat-option>
                            <mat-option value="2">Vessel Arrival date</mat-option>
                            <mat-option value="3">Pickup ETA Date</mat-option>
                            <mat-option value="4">Pickup LFD Date</mat-option>
                            <mat-option value="5">Pickup Reservation Date</mat-option>
                            <mat-option value="6">IM Empty Return Date/Ex DP ERD</mat-option>
                            <mat-option value="7">Ex Cutoff Date/IM Empty Return LFD</mat-option>
                            <mat-option value="8">Drop Reservation Date</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Date Range</label>
                    <mat-form-field appearance="outline">
                        <mat-date-range-input [rangePicker]="dateRangepicker" [disabled]="!isDateDisable">
                            <input matStartDate placeholder="Start date" formControlName="searchFromDate">
                            <input matEndDate placeholder="End date" formControlName="searchToDate">
                        </mat-date-range-input>
                        <mat-hint>MM/DD/YYYY – MM/DD/YYYY</mat-hint>
                        <mat-datepicker-toggle matIconSuffix [for]="dateRangepicker"></mat-datepicker-toggle>
                        <mat-date-range-picker #dateRangepicker></mat-date-range-picker>
                    </mat-form-field>
                </div>
            </div>
        </div>
        <div class="hr-light"></div>
        <h3 class="heading">Filter Types</h3>

        <div class="row custom-row">
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Status</label>
                    <mat-form-field appearance="outline">
                        <mat-select multiple formControlName="statusIds">
                            @for(item of containerStatusList; track item.id) {
                            <mat-option [value]="item.id">{{item.statusText}}</mat-option>}
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Load Type</label>
                    <mat-form-field appearance="outline">
                        <mat-select multiple formControlName="loadStatusTypeIds">
                            <mat-option value="3">Loaded</mat-option>
                            <mat-option value="2">PartialLoad</mat-option>
                            <mat-option value="3">Empty</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Pick/Drop Location</label>
                    <mat-form-field appearance="outline">
                        <mat-select>
                            @for(item of locationsList; track item.id) {
                            <mat-option [value]="item.id">{{item.name}}</mat-option>}
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
        </div>
        <div class="hr-light"></div>
        <h3 class="heading">Order Status</h3>

        <div class="row custom-row">
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Jobs</label>
                    <mat-form-field appearance="outline">
                        <mat-select>
                            <mat-option value="0">All</mat-option>
                            <mat-option value="1">Inprogress</mat-option>
                            <mat-option value="2">Pending</mat-option>
                            <mat-option value="3">Billed</mat-option>
                            <mat-option value="4">Dispatched</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Port Status</label>
                    <mat-form-field appearance="outline">
                        <mat-select formControlName="portStatusId">
                            @for(item of portStatusList; track item.id) {
                            <mat-option [value]="item.id">{{item.portStatusText}}</mat-option>}
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Total Records</label>
                    <mat-form-field appearance="outline">
                        <mat-select formControlName="pageSize">
                            <mat-option value="50">50</mat-option>
                            <mat-option value="100">100</mat-option>
                            <mat-option value="200">200</mat-option>
                            <mat-option value="500">500</mat-option>
                            <mat-option value="1000">1000</mat-option>
                            <mat-option value="1">All</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
        </div>
        <div class="hr-light"></div>
        <h3 class="heading">Search</h3>

        <div class="row custom-row">
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Search Type</label>
                    <mat-form-field appearance="outline">
                        <mat-select formControlName="fleetSearch" (selectionChange)="changeSearchType($event.value)">
                            <mat-option value="0">All</mat-option>
                            <mat-option value="1">Driver</mat-option>
                            <mat-option value="2">Truck</mat-option>
                            <mat-option value="3">Chassis</mat-option>
                            <mat-option value="4">Bill To</mat-option>
                            <mat-option value="5">Ref/Booking Number</mat-option>
                            <mat-option value="6">Vessel Number</mat-option>
                            <mat-option value="7">Order Number</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Search</label>
                    <mat-form-field appearance="outline">
                        <input *ngIf="SearchType>4" matInput placeholder="Search Container No, Order, Ref No" formControlName="keyword">
                        <mat-select *ngIf="SearchType==1" formControlName="keyword">
                            <mat-option value="">Select Driver</mat-option>
                            @for(item of driverList; track item.driverId) {
                            <mat-option [value]="item.driverId"> {{ item.firstName }}
                                {{ item.middleName }}
                                {{ item.lastName }}</mat-option>}
                        </mat-select>
                        <mat-select *ngIf="SearchType==2" formControlName="keyword">
                            <mat-option value="">Select Truck</mat-option>
                            @for(item of truckList; track item.truckId) {
                            <mat-option [value]="item.truckId">{{item.currentPlateNumber}}</mat-option>}
                        </mat-select>
                        <mat-select *ngIf="SearchType==3" formControlName="keyword">
                            <mat-option value="">Select Chassis</mat-option>
                            @for(item of trailerList; track item.trailerId) {
                            <mat-option [value]="item.trailerId">{{item.trailerNumber}}</mat-option>}
                        </mat-select>
                        <mat-select *ngIf="SearchType==4" formControlName="keyword">
                            <mat-option value="">Select BillTo</mat-option>
                            @for(item of billToLst; track item.id) {
                            <mat-option [value]="item.id">{{item.name}}</mat-option>}
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Jobs Type</label>
                    <mat-form-field appearance="outline">
                        <mat-select formControlName="type">
                            <mat-option value="1">Import Only</mat-option>
                            <mat-option value="2">Export Only</mat-option>
                            <mat-option value="0">Import & Export</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
        </div>
        <div class="hr-light"></div>
        <h3 class="heading">Sort By Columns</h3>

        <div class="row custom-row">
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Sort By Column</label>
                    <mat-form-field appearance="outline" >
                        <mat-select formControlName="sortingColName">
                            <mat-option value="">Select Column </mat-option>
                            <mat-option value="OrderNo"> Order No</mat-option>
                            <mat-option value="PortStatusText"> Port Status</mat-option>
                            <mat-option value="VesselDate"> Vessel Date/ Port Status</mat-option>
                            <mat-option value="LoadingUnLoadingDate">Loading/ UnLoading Date</mat-option>
                            <mat-option value="VesselDate"> Vessel Date</mat-option>
                            <mat-option value="PUDate"> Pickup ETA Date</mat-option>
                            <mat-option value="PULastFreeDate"> PU LFD Date</mat-option>
                            <mat-option value="PUResDate"> PU Reservation Date</mat-option>
                            <mat-option value="DPDate"> IM Empty Return Date/EX Drop ERD(DP Date)</mat-option>
                            <mat-option value="DPLastFreeDate">EX Cut Off Date/IM Empty Return LFD</mat-option>
                            <mat-option value="DPResDate"> DP Reservation Date</mat-option>
                            <mat-option value="BillToName"> BillTo</mat-option>
                            <mat-option value="VesselNo"> Vessel No</mat-option>
                            <mat-option value="StatusName"> Status</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="flex-custom ms-5">
                    <mat-radio-group aria-label="Select an option" formControlName="sortingColOrder">
                        <mat-radio-button value="1">ASC</mat-radio-button>
                        <mat-radio-button value="2">DESC</mat-radio-button>
                    </mat-radio-group>
                </div>
            </div>
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Then By</label>
                    <mat-form-field appearance="outline">
                        <mat-select formControlName="sortingColName2">
                            <mat-option value="">Select Column </mat-option>
                            <mat-option value="OrderNo"> Order No</mat-option>
                            <mat-option value="PortStatusText"> Port Status</mat-option>
                            <mat-option value="VesselDate"> Vessel Date/ Port Status</mat-option>
                            <mat-option value="LoadingUnLoadingDate">Loading/ UnLoading Date</mat-option>
                            <mat-option value="VesselDate"> Vessel Date</mat-option>
                            <mat-option value="PUDate"> Pickup ETA Date</mat-option>
                            <mat-option value="PULastFreeDate"> PU LFD Date</mat-option>
                            <mat-option value="PUResDate"> PU Reservation Date</mat-option>
                            <mat-option value="DPDate"> IM Empty Return Date/EX Drop ERD(DP Date)</mat-option>
                            <mat-option value="DPLastFreeDate">EX Cut Off Date/IM Empty Return LFD</mat-option>
                            <mat-option value="DPResDate"> DP Reservation Date</mat-option>
                            <mat-option value="BillToName"> BillTo</mat-option>
                            <mat-option value="VesselNo"> Vessel No</mat-option>
                            <mat-option value="StatusName"> Status</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="flex-custom ms-5">
                    <mat-radio-group aria-label="Select an option" formControlName="sortingColOrder2">
                        <mat-radio-button value="1">ASC</mat-radio-button>
                        <mat-radio-button value="2">DESC</mat-radio-button>
                    </mat-radio-group>
                </div>
            </div>
            <div class="col-12">
                <div class="input-wrap flex-input-bx">
                    <label class="form-label">Then By</label>
                    <mat-form-field appearance="outline">
                        <mat-select formControlName="sortingColName3">
                            <mat-option value="">Select Column </mat-option>
                            <mat-option value="OrderNo"> Order No</mat-option>
                            <mat-option value="PortStatusText"> Port Status</mat-option>
                            <mat-option value="VesselDate"> Vessel Date/ Port Status</mat-option>
                            <mat-option value="LoadingUnLoadingDate">Loading/ UnLoading Date</mat-option>
                            <mat-option value="VesselDate"> Vessel Date</mat-option>
                            <mat-option value="PUDate"> Pickup ETA Date</mat-option>
                            <mat-option value="PULastFreeDate"> PU LFD Date</mat-option>
                            <mat-option value="PUResDate"> PU Reservation Date</mat-option>
                            <mat-option value="DPDate"> IM Empty Return Date/EX Drop ERD(DP Date)</mat-option>
                            <mat-option value="DPLastFreeDate">EX Cut Off Date/IM Empty Return LFD</mat-option>
                            <mat-option value="DPResDate"> DP Reservation Date</mat-option>
                            <mat-option value="BillToName"> BillTo</mat-option>
                            <mat-option value="VesselNo"> Vessel No</mat-option>
                            <mat-option value="StatusName"> Status</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="flex-custom ms-5">
                    <mat-radio-group aria-label="Select an option" formControlName="sortingColOrder3">
                        <mat-radio-button value="1">ASC</mat-radio-button>
                        <mat-radio-button value="2">DESC</mat-radio-button>
                    </mat-radio-group>
                </div>

            </div>
        </div>

    </div>
    <div class="slide-footer custom-gap">
        <i class="ki-duotone ki-dots-vertical action_icon_btn" [matMenuTriggerFor]="menu1">
        <span class="path1"></span>
        <span class="path2"></span>
        <span class="path3"></span>
        </i>
        <!-- <mat-icon class="action_icon_btn" [matMenuTriggerFor]="menu1">more_vert</mat-icon> -->
        <mat-menu #menu1="matMenu">
            <button mat-menu-item (click)="AddFilter()">Save As New Filter</button>
            @if(filterId>0)
            {
                <button mat-menu-item (click)="OpenUpdateFilter()">Update Filter</button>
                <button mat-menu-item (click)="deleteFilter()">Delete Selected Filter</button>
            }
           
          

           
        </mat-menu>

        <div class="">
            <button mat-button (click)="searchFlag = false" class="default-width">Close</button>
            <button mat-flat-button color="primary" class="primary default-width"
                (click)="searchClick()">Search</button>
        </div>
    </div>


</div>



